---
description: Create a PR following team conventions
priority: 1
user-invocable: true
trigger:
  - pattern: "create.*(pr|pull request)"
    description: Automatically invoked when creating a PR
  - pattern: "open.*(pr|pull request)"
    description: Invoked when opening a PR
---

## Create PR Workflow

### 1. PR Title Format

- **Format**: `[<jira-issue-number>] <jira issue title>`
- **Example**: `[SXS-1227] Add shadow traffic support for metrics endpoint`
- Use the original Jira issue title unless it doesn't represent the changes well
- Always include `[<jira-issue-number>]` at the beginning

### 2. PR Description

Check for repo template at `.github/PULL_REQUEST_TEMPLATE.md` and follow it.

Otherwise, include:
- Summary of changes
- Link to Jira ticket
- Note that PR was generated by Claude with the plan followed

### 3. Post-PR Actions

After creating the PR, invoke `/user:monitor-ci` to monitor CI and fix failures.

---

## Repository-Specific Rules

### web-ui Repository

Additional steps for **web-ui**:

#### Static Hash Link Generation

1. Spawn async subagent to wait for static hash
2. Use `static-hash` skill to retrieve it
3. Update the **QA section** of PR description

#### URL Formats

**Base URL**:
```
https://app-<static-hash>.datadoghq.com/dashboard/lists?p=1
```

**With RUM changes** (append `&enable-rum=1`):
```
https://app-<static-hash>.datadoghq.com/dashboard/lists?p=1&enable-rum=1
```

**With feature flags** (append `&set_config_<flag-name>=true`):
```
https://app-<static-hash>.datadoghq.com/dashboard/lists?p=1&enable-rum=1&set_config_sxs-shadow-traffic=true
```

Check Jira issue to determine if RUM changes or feature flags are involved.

---

### dd-source Repository

Additional steps for **dd-source**:

1. Monitor CI via `/user:monitor-ci` until all jobs pass
2. When CI is green, prompt user about E2E testing
3. If E2E is requested, invoke `/user:e2e-dd-source`
