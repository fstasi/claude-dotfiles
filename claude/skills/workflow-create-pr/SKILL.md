---
name: workflow-create-pr
description: Create a PR following team conventions
---

## Create PR Workflow

### 1. Review Changes

Before creating the PR:
```bash
git status
git diff origin/main...HEAD  # or origin/preprod for web-ui
git log origin/main...HEAD   # or origin/preprod for web-ui
```

### 2. PR Title Format

- **Format**: `[<jira-issue-number>] <jira issue title>`
- **Example**: `[SXS-1227] Add shadow traffic support for metrics endpoint`
- Use the original Jira issue title unless it doesn't represent the changes well
- Always include `[<jira-issue-number>]` at the beginning

### 3. PR Description

Check for repo template at `.github/PULL_REQUEST_TEMPLATE.md` and follow it.

Otherwise, include:
- Summary of changes
- Link to Jira ticket
- Note that PR was generated by Claude with the plan followed
- Testing instructions if applicable

### 4. Create the PR

Use `gh pr create` with heredoc for clean formatting:

```bash
gh pr create --title "PR title here" --body "$(cat <<'EOF'
## Summary
<summary here>

## Jira
<jira link>

## Notes
Implementation by Claude Code following the approved plan.
EOF
)"
```

### 5. Return PR URL

Display the PR URL to the user when complete.
